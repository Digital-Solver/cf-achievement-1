const pokemonRepository=function(){function e(){return l}function t(e){"object"==typeof e&&"name"===Object.keys(e)[0]&&"details"===Object.keys(e)[1]?l.push(e):(console.log(Object.keys(e)),alert("This is not an Object."))}function n(){return fetch(r).then(e=>e.json()).then(e=>{e.results.forEach(e=>{const n={name:e.name,details:e.url};t(n)})}).catch(e=>e.message)}function o(e){const t=e.details;return fetch(t).then(e=>e.json()).then(t=>{e.imageURL=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(e=>console.log(e.message))}function s(e){function t(){s.click()}const n=[];l.forEach(e=>{n.push(e.name)});const o=n.filter(t=>t.toLocaleLowerCase()===e.toLocaleLowerCase()),s=document.getElementById(`${e.toLocaleLowerCase()}`);o.length?(s.scrollIntoView(),s.focus(),setTimeout(t,200)):alert(`${e} not found.\nPlease search again.`)}function a(){const e=document.querySelector(".modal-body");for(;e.firstChild;)e.removeChild(e.firstChild),console.log("removed")}function c(e,t,n,o){const s=$(".modal");s.on("hide.bs.modal",()=>{a()});const c=document.querySelector(".modal-body"),i=document.createElement("div");i.classList.add("pokemon-data"),c.appendChild(i);const d=document.createElement("h1");d.classList.add("name-label");const l=document.createElement("h2");l.classList.add("height-label");const r=document.createElement("img");r.classList.add("sprite-icon"),r.src=o;const m=document.createElement("img");m.classList.add("sprite-icon__background"),m.src=o,d.innerText=e,l.innerText=`Height: ${t}`;const p=document.createElement("div");p.classList.add("types-container");for(let e=0;e<n.length;e++){const t=document.createElement("h3");t.classList.add("type-label"),t.classList.add(`${n[e].type.name}-type`),t.innerText=n[e].type.name,p.appendChild(t)}i.appendChild(d),i.appendChild(r),i.appendChild(l),i.appendChild(p)}function i(e){o(e).then(()=>{c(e.name,e.height,e.types,e.imageURL)})}function d(e){const t=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name,o.classList.add("poke-button"),o.classList.add("btn"),o.classList.add("list-group-item"),o.classList.add("list-group-item-action"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#poke-modal"),o.setAttribute("id",e.name),o.addEventListener("click",i.bind(null,e)),n.appendChild(o),t.appendChild(n)}const l=[],r="https://pokeapi.co/api/v2/pokemon/?limit=151";return{getAll:e,add:t,loadList:n,loadDetails:o,find:s,addListItem:d}}();pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)});const searchPokedex=function(){function e(){const e=document.getElementsByClassName("pokedex__search-field")[0].value;pokemonRepository.find(e)}return{search:e}}(),searchBtn=document.getElementsByClassName("pokedex__search-button")[0];searchBtn.addEventListener("click",searchPokedex.search),pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>pokemonRepository.addListItem(e))});